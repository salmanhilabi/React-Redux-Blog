(this["webpackJsonpcrud-redux"]=this["webpackJsonpcrud-redux"]||[]).push([[0],{33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),s=a.n(l),o=a(4),i=a(5),c=a(7),u=a(6),m=a(8),p=(a(38),a(12)),d=a(11),h=a(29),g=[],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POST":return e.concat([t.payload]);case"DELETE_POST":return e.filter((function(e){return e.id!==t.id}));case"UPDATE":return e.map((function(e){return e.id===t.id?Object(h.a)({},e,{title:t.payload.title,author:t.payload.author,message:t.payload.message,image:t.payload.image}):e}));default:return e}},b=Object(d.b)({blogReducer:E}),f=a(30),v=a.n(f),y=a(25),O={key:"root",storage:v.a,whitelist:["blogReducer"]},j=Object(y.a)(O,b),N=Object(d.c)(j),D=Object(y.b)(N),_=a(17),w=a(15),P=a(16),C=function(e){return{type:"ADD_POST",payload:e}},S=function(e,t){return{type:"UPDATE",id:e,payload:t}},k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDataExist:!1,file:"",imageUrl:"",updated:"",title:"",author:"",message:""},a.getImage=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({file:n,imageUrl:t.result})},t.readAsDataURL(n)},a.handleValues=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleEdit=function(e){e.preventDefault();var t={id:new Date,title:a.state.title,author:a.state.author,message:a.state.message,image:a.state.imageUrl};a.props.dispatch(S(a.props.location.data.id,t)),a.setState({updated:"Post was updated",title:"",author:"",message:"",imageUrl:""}),a.removeImage.value=null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(this.props.location.data){var e=this.props.location.data.post;this.setState({isDataExist:!0,imageUrl:e.image,title:e.title,author:e.author,message:e.message})}else this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,e.state.isDataExist?r.a.createElement("div",{key:e.props.location.data.id,className:"edit_post"},r.a.createElement("div",{className:"edit_page_upper_text"},r.a.createElement(_.b,{to:"/",className:"back_btn"},"Back"),r.a.createElement("h5",null,e.state.updated)),r.a.createElement("form",{className:"form",onSubmit:e.handleEdit},r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:e.handleValues,placeholder:"Enter Post Title",value:e.state.title}),r.a.createElement("br",null),r.a.createElement("input",{required:!0,type:"text",id:"author",onChange:e.handleValues,placeholder:"Enter Author Name",value:e.state.author}),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,rows:"5",id:"message",onChange:e.handleValues,cols:"28",placeholder:"Enter Post",value:e.state.message}),r.a.createElement("br",null),r.a.createElement("input",{required:!0,type:"file",ref:function(t){return e.removeImage=t},onChange:function(t){return e.getImage(t)}}),r.a.createElement("br",null),r.a.createElement("button",null,"Update"))):r.a.createElement("h3",null,"No Post To Edit"))}}]),t}(n.Component),A=Object(p.b)()(k),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={file:"",imageUrl:"",newPost:"",title:"",author:"",message:""},a.getImage=function(e){e.preventDefault();var t=new FileReader,n=e.target.files[0];t.onloadend=function(){a.setState({file:n,imageUrl:t.result})},t.readAsDataURL(n)},a.handleValues=function(e){a.setState(Object(P.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t={id:new Date,title:a.state.title,author:a.state.author,message:a.state.message,image:a.state.imageUrl};a.props.dispatch(C(t)),a.setState({newPost:"New Post Added In The List",imageUrl:"",title:"",author:"",message:""}),a.removeImage.value=null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-form-container"},r.a.createElement("h5",{className:"new_post-alert"},this.state.newPost),r.a.createElement("h1",{className:"post_heading"},"Create Post"),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:this.handleValues,placeholder:"Enter Post Title",value:this.state.title}),r.a.createElement("br",null),r.a.createElement("input",{required:!0,type:"text",id:"author",onChange:this.handleValues,placeholder:"Enter Author Name",value:this.state.author}),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,rows:"5",id:"message",onChange:this.handleValues,cols:"28",placeholder:"Enter Post",value:this.state.message}),r.a.createElement("br",null),r.a.createElement("input",{required:!0,type:"file",id:"image",ref:function(t){return e.removeImage=t},onChange:function(t){return e.getImage(t)}}),r.a.createElement("br",null),r.a.createElement("button",null,"Post")))}}]),t}(n.Component),x=Object(p.b)()(U),R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={img:null,day:null,month:null,year:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){try{var e=new Date(this.props.post.id);this.setState({day:e.getDate(),month:["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()],year:e.getFullYear()})}catch(t){console.log("ERROR",t)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post"},r.a.createElement("img",{alt:"post_img",className:"post_img",src:this.props.post.image}),r.a.createElement("div",{className:"date_n_author_wrapper"},r.a.createElement("p",{className:"post_date"},"".concat(this.state.month," ").concat(this.state.day," ").concat(this.state.year)),r.a.createElement("p",{className:"post_author"},"Posted by ",r.a.createElement("span",null,this.props.post.author))),r.a.createElement("h1",{className:"post_title"},this.props.post.title),r.a.createElement("p",{className:"post_message"},this.props.post.message),r.a.createElement("div",{className:"buttons_wrapper"},r.a.createElement(_.b,{className:"edit",to:{pathname:"/edit-post",data:{post:this.props.post,id:this.props.post.id}}},"Edit"),r.a.createElement("button",{className:"delete",onClick:function(){return e.props.dispatch({type:"DELETE_POST",id:e.props.post.id})}},"Delete")))}}]),t}(n.Component),T=Object(p.b)()(R),I=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"post-container"},0===this.props.posts.blogReducer.length?r.a.createElement("div",null,r.a.createElement("h1",{className:"no_post_heading"},"No Post in the Database ")):this.props.posts.blogReducer.map((function(e){return null===e?null:r.a.createElement("div",{key:e.id},r.a.createElement(T,{post:e}))})))}}]),t}(n.Component),q=Object(p.b)((function(e){return{posts:e}}))(I),V=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-post-container"},r.a.createElement(x,null),r.a.createElement(q,null))}}]),t}(n.Component),L=a(32),J=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,{store:N},r.a.createElement(_.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"navbar"},r.a.createElement("h2",{className:"center"},"REACT REDUX BLOG")),r.a.createElement(w.c,null,r.a.createElement(L.a,{loading:null,persistor:D},r.a.createElement(w.a,{exact:!0,path:"/",component:V}),r.a.createElement(w.a,{path:"/edit-post",component:A}))))))}}]),t}(n.Component);s.a.render(r.a.createElement(J,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6064fdc6.chunk.js.map